{"version":3,"sources":["../../src/kafka/producer.js"],"names":["kafka","require","Producer","client","process","env","NODE_ENV","Client","logger","debug","KafkaClient","kafkaHost","envVariables","KAFKA_BROKER_HOST","producer","on","err","error"],"mappings":";;;;;;AACA;;;;AACA;;;;;;AAFA,IAAIA,QAAQC,QAAQ,YAAR,CAAZ;;;AAMA,IAAMC,WAAWF,MAAME,QAAvB;AACA,IAAIC,eAAJ;;AAEA,IAAIC,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;AAC1CH,WAAS,IAAIH,MAAMO,MAAV,EAAT;AACAC,mBAAOC,KAAP,CAAa,UAAb;AACD,CAHD,MAGO;AACLN,WAAS,IAAIH,MAAMU,WAAV,CAAsB,EAAEC,WAAWC,uBAAaC,iBAA1B,EAAtB,CAAT;AACAL,mBAAOC,KAAP,CAAa,UAAb;AACD;;AAGD,IAAMK,WAAW,IAAIZ,QAAJ,CAAaC,MAAb,CAAjB;;AAEAW,SAASC,EAAT,CAAY,OAAZ,EAAqB,YAAW;AAC9BP,mBAAOC,KAAP,CAAa,mBAAb;AACD,CAFD;;AAIAK,SAASC,EAAT,CAAY,OAAZ,EAAqB,UAASC,GAAT,EAAc;AACjCR,mBAAOS,KAAP,CAAa,4BAAb;AACAT,mBAAOS,KAAP,CAAaD,GAAb;AACD,CAHD;;kBAKeF,Q","file":"producer.js","sourcesContent":["var kafka = require(\"kafka-node\");\nimport envVariables from \"../envVariables\";\nimport logger from \"../config/logger\";\n\n\n\nconst Producer = kafka.Producer;\nlet client;\n\nif (process.env.NODE_ENV === \"development\") {\n  client = new kafka.Client();\n  logger.debug(\"local - \");\n} else {\n  client = new kafka.KafkaClient({ kafkaHost: envVariables.KAFKA_BROKER_HOST });\n  logger.debug(\"cloud - \");\n}\n\n\nconst producer = new Producer(client);\n\nproducer.on(\"ready\", function() {\n  logger.debug(\"Producer is ready\");\n});\n\nproducer.on(\"error\", function(err) {\n  logger.error(\"Producer is in error state\");\n  logger.error(err);\n});\n\nexport default producer;\n"]}
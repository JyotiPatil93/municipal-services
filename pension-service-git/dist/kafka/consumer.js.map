{"version":3,"sources":["../../src/kafka/consumer.js"],"names":["kafka","require","Consumer","client","KafkaClient","kafkaHost","envVariables","KAFKA_BROKER_HOST","consumer","topic","offset","autoCommit","on","message","logger","debug","value","err","error"],"mappings":";;AACA;;;;AAEA;;;;;;AAHA,IAAMA,QAAQC,QAAQ,YAAR,CAAd;;;AAKA,IAAMC,WAAWF,MAAME,QAAvB;AACA,IAAIC,SAAS,IAAIH,MAAMI,WAAV,CAAsB;AACjCC,aAAWC,uBAAaC;AADS,CAAtB,CAAb;;AAIA,IAAMC,WAAW,IAAIN,QAAJ,CAAaC,MAAb,EAAqB,CAAC,EAAEM,OAAO,KAAT,EAAgBC,QAAQ,CAAxB,EAAD,CAArB,EAAoD;AACnEC,cAAY;AADuD,CAApD,CAAjB;;AAIAH,SAASI,EAAT,CAAY,SAAZ,EAAuB,UAASC,OAAT,EAAkB;AACvCC,mBAAOC,KAAP,CAAaF,QAAQG,KAArB;AACD,CAFD;;AAIAR,SAASI,EAAT,CAAY,OAAZ,EAAqB,UAASK,GAAT,EAAc;AACjCH,mBAAOI,KAAP,CAAa,QAAb,EAAuBD,GAAvB;AACD,CAFD;;AAIAT,SAASI,EAAT,CAAY,kBAAZ,EAAgC,UAASK,GAAT,EAAc;AAC5CH,mBAAOI,KAAP,CAAa,mBAAb,EAAkCD,GAAlC;AACD,CAFD","file":"consumer.js","sourcesContent":["const kafka = require(\"kafka-node\");\nimport envVariables from \"../envVariables\";\n\nimport logger from \"../config/logger\";\n\nconst Consumer = kafka.Consumer;\nlet client = new kafka.KafkaClient({\n  kafkaHost: envVariables.KAFKA_BROKER_HOST\n});\n\nconst consumer = new Consumer(client, [{ topic: \"SMS\", offset: 0 }], {\n  autoCommit: false\n});\n\nconsumer.on(\"message\", function(message) {\n  logger.debug(message.value);\n});\n\nconsumer.on(\"error\", function(err) {\n  logger.error(\"Error:\", err);\n});\n\nconsumer.on(\"offsetOutOfRange\", function(err) {\n  logger.error(\"offsetOutOfRange:\", err);\n});\n"]}
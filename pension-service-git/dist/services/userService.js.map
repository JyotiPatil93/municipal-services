{"version":3,"sources":["../../src/services/userService.js"],"names":["searchUser","requestInfo","userSearchReqCriteria","requestBody","RequestInfo","hostURL","envVariables","EGOV_USER_HOST","endPoint","EGOV_USER_CONTEXT_PATH","EGOV_USER_SEARCH_ENDPOINT","userSearchResponse","dobFormat","parseResponse","userResponse","format1","user","map","createdDate","dateToLong","lastModifiedDate","dob","pwdExpiryDate","date","format","epoch","formattedDays","split","Date","getTime","dobConvetion","reverse","join","userDetails","accessToken","EGOV_USER_DETAILS_ENDPOINT"],"mappings":"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","file":"userService.js","sourcesContent":["import envVariables from \"../envVariables\";\nimport { httpRequest } from \"../utils/api\";\n\nexport const searchUser = async (requestInfo, userSearchReqCriteria) => {\n  let requestBody = { RequestInfo: requestInfo, ...userSearchReqCriteria };\n\n  var userSearchResponse = await httpRequest({\n    hostURL: envVariables.EGOV_USER_HOST,\n    endPoint: `${envVariables.EGOV_USER_CONTEXT_PATH}${\n      envVariables.EGOV_USER_SEARCH_ENDPOINT\n    }`,\n    requestBody\n  });\n\n  var dobFormat = \"yyyy-MM-dd\";\n  userSearchResponse = parseResponse(userSearchResponse, dobFormat);\n  \n  return userSearchResponse;\n};\n\nconst parseResponse = (userResponse, dobFormat) => {\n  var format1 = \"dd-MM-yyyy HH:mm:ss\";\n  userResponse.user &&\n    userResponse.user.map(user => {\n      user.createdDate =\n        user.createdDate && dateToLong(user.createdDate, format1);\n      user.lastModifiedDate =\n        user.lastModifiedDate && dateToLong(user.lastModifiedDate, format1);\n      user.dob = user.dob && dateToLong(user.dob, dobFormat);\n      user.pwdExpiryDate =\n        user.pwdExpiryDate && dateToLong(user.pwdExpiryDate, format1);\n    });\n  return userResponse;\n};\n\nconst dateToLong = (date, format) => {\n  var epoch = null;\n  var formattedDays = null;\n\n  switch (format) {\n    case \"dd-MM-yyyy HH:mm:ss\":\n      formattedDays = date.split(/\\D+/);\n      epoch = new Date(\n        formattedDays[2],\n        formattedDays[1] - 1,\n        formattedDays[0],\n        formattedDays[3],\n        formattedDays[4],\n        formattedDays[5]\n      );\n      break;\n    case \"yyyy-MM-dd\":\n      formattedDays = date.split(\"-\");\n      epoch = new Date(\n        formattedDays[0],\n        formattedDays[1] - 1,\n        formattedDays[2]\n      );\n\n      break;\n    case \"dd/MM/yyyy\":\n      formattedDays = date.split(\"/\");\n      epoch = new Date(\n        formattedDays[2],\n        formattedDays[1] - 1,\n        formattedDays[0]\n      );\n\n      break;\n  }\n  return epoch.getTime();\n};\n\nconst dobConvetion=(date)=>{\n  return typeof(date)==\"string\"?date.split(\"-\").reverse().join(\"/\"):date;\n}\n\nexport const userDetails = async (requestInfo, accessToken) => {\n  let requestBody = {\n    RequestInfo: requestInfo\n  };  \n  \n  let userResponse = await httpRequest({\n    hostURL: envVariables.EGOV_USER_HOST,\n    endPoint: `${envVariables.EGOV_USER_CONTEXT_PATH}${\n      envVariables.EGOV_USER_DETAILS_ENDPOINT\n    }?access_token=${accessToken}`\n    ,\n    requestBody\n  });  \n  \n  return userResponse;\n};\n\nexport default { searchUser,userDetails};\n"]}
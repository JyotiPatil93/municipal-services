{"version":3,"sources":["../src/db.js"],"names":["require","Pool","pool","user","envVariables","DB_USER","host","DB_HOST","database","DB_NAME","password","DB_PASSWORD","ssl","DB_SSL","port","DB_PORT","max","DB_MAX_POOL_SIZE","idleTimeoutMillis","connectionTimeoutMillis","module","exports","query","text","params"],"mappings":";;AACA;;;;;;eADiBA,QAAQ,IAAR,C;IAATC,I,YAAAA,I;;AAGR;;AAEA,IAAMC,OAAO,IAAID,IAAJ,CAAS;AACpBE,QAAMC,uBAAaC,OADC;AAEpBC,QAAMF,uBAAaG,OAFC;AAGpBC,YAAUJ,uBAAaK,OAHH;AAIpBC,YAAUN,uBAAaO,WAJH;AAKpBC,OAAKR,uBAAaS,MALE;AAMpBC,QAAMV,uBAAaW,OANC;AAOpBC,OAAKZ,uBAAaa,gBAPE;AAQpBC,qBAAmB,KARC;AASpBC,2BAAyB;AATL,CAAT,CAAb;;AAYA;AACAC,OAAOC,OAAP,GAAiB;AACfC,SAAO,eAACC,IAAD,EAAOC,MAAP;AAAA,WAAkBtB,KAAKoB,KAAL,CAAWC,IAAX,EAAiBC,MAAjB,CAAlB;AAAA;AADQ,CAAjB","file":"db.js","sourcesContent":["const { Pool } = require(\"pg\");\nimport envVariables from \"./envVariables\";\n\n// Use connection pool to limit max active DB connections\n\nconst pool = new Pool({\n  user: envVariables.DB_USER,\n  host: envVariables.DB_HOST,\n  database: envVariables.DB_NAME,\n  password: envVariables.DB_PASSWORD,\n  ssl: envVariables.DB_SSL,\n  port: envVariables.DB_PORT,\n  max: envVariables.DB_MAX_POOL_SIZE,\n  idleTimeoutMillis: 30000,\n  connectionTimeoutMillis: 2000\n});\n\n// Expose method, log query, initiate trace etc at single point later on.\nmodule.exports = {\n  query: (text, params) => pool.query(text, params)\n};\n"]}
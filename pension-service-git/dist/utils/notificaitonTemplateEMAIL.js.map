{"version":3,"sources":["../../src/utils/notificaitonTemplateEMAIL.js"],"names":["workflowTemplateInterfaceEMAIL","pension","payload","topic","emailRequest","email","employee","user","applicantName","applicationType","applicationNumber","action","envVariables","EGOV_PENSION_RRP_BUSINESS_SERVICE","EGOV_PENSION_WORKFLOW_ACTION_FORWARD","EGOV_PENSION_DOE_BUSINESS_SERVICE","EGOV_PENSION_DOP_BUSINESS_SERVICE","logger","debug","JSON","stringify","messages"],"mappings":";;;;;;AAAA;;;;AACA;;;;AAEA;;;;;;AAEA,IAAMA,iCAAiC,SAAjCA,8BAAiC,GAAkB;AAAA,MAAjBC,OAAiB,uEAAP,EAAO;;AACvD,MAAIC,UAAU,EAAd;AACA,MAAMC,QAAQ,8BAAd;AACA,MAAIC,eAAe;AACjBC,WAAO,mBACLJ,QAAQK,QAAR,CAAiBC,IADZ,EAEL,SAFK;AADU,GAAnB;AAMA,MAAMC,gBAAgB,mBACpBP,QAAQK,QAAR,CAAiBC,IADG,EAEpB,MAFoB,CAAtB;AAIA,MAAME,kBAAkB,mBAAIR,OAAJ,EAAa,iBAAb,CAAxB;AACA,MAAMS,oBAAoB,mBAAIT,OAAJ,EAAa,YAAb,CAA1B;AACA,MAAMU,SAAS,mBAAIV,OAAJ,EAAa,QAAb,CAAf;AACA,UAAQQ,eAAR;AACI,SAAKG,uBAAaC,iCAAlB;AACE,cAAQF,MAAR;AACI,aAAKC,uBAAaE,oCAAlB;AACI;AACIV,yBACE,SADF,IACa,sCADb;AAEEA,yBACA,MADA,sJAO+BI,aAP/B,sGAO6IE,iBAP7I;AAWH;AACH;AAjBR;AAmBA;AACF,SAAKE,uBAAaG,iCAAlB;AACE,cAAQJ,MAAR;AACE,aAAKC,uBAAaE,oCAAlB;AACE;AACEV,yBACE,SADF,IACa,6CADb;AAEEA,yBACA,MADA,0NAMqHI,aANrH,iHAM8OE,iBAN9O;AAUH;AACC;AAhBN;AAkBA;AACJ,SAAKE,uBAAaI,iCAAlB;AACI,cAAQL,MAAR;AACE,aAAKC,uBAAaE,oCAAlB;AACE;AACEV,yBACE,SADF,IACa,8CADb;AAEEA,yBACA,MADA,2NAMsHI,aANtH,oDAMkLA,aANlL,gDAM0OE,iBAN1O;AAWH;AACC;AAjBN;AAmBA;AA9DN;;AAiEAN,eACE,QADF,IACY,IADZ;AAEAa,mBAAOC,KAAP,CAAa,cAAb,EAA4BC,KAAKC,SAAL,CAAehB,YAAf,CAA5B;;AAEAF,YAAU;AACRC,gBADQ;AAERkB,cAAUF,KAAKC,SAAL,CAAehB,YAAf;AAFF,GAAV;AAIA,SAAOF,OAAP;AACD,CA1FD;;kBA4FeF,8B","file":"notificaitonTemplateEMAIL.js","sourcesContent":["import get from \"lodash/get\";\nimport envVariables from \"../envVariables\";\n\nimport logger from \"../config/logger\";\n\nconst workflowTemplateInterfaceEMAIL = (pension = {}) => {\n  let payload = {};\n  const topic = \"egov.core.notification.email\";\n  let emailRequest = {\n    email: get(\n      pension.employee.user,\n      \"emailId\"\n    )\n  };\n  const applicantName = get(\n    pension.employee.user,\n    \"name\"\n  );\n  const applicationType = get(pension, \"businessService\");\n  const applicationNumber = get(pension, \"businessId\");\n  const action = get(pension, \"action\");\n  switch (applicationType) {\n      case envVariables.EGOV_PENSION_RRP_BUSINESS_SERVICE:\n        switch (action) {\n            case envVariables.EGOV_PENSION_WORKFLOW_ACTION_FORWARD:\n                {\n                    emailRequest[\n                      \"subject\"]=\"Notification for Pension Application\";\n                      emailRequest[\n                      \"body\"\n                    ] = \n          \n                    `<table style=\"width: 601px;\">\n                    <tbody>\n                    <tr>\n                    <td style=\"width: 591px;\">Dear ${applicantName}, <br /> <br /> Regular Retirement Pension application has been initiated. Application Number ${applicationNumber} is for your future reference.<br /> <br /> Note: This is a system generated email. Please do not reply.<br /> <br /> Regards,<br /> Chandigarh Smart City Private Limited</td>\n                    </tr>\n                    </tbody>\n                    </table>`\n                  }\n                break;                \n        }\n        break;\n      case envVariables.EGOV_PENSION_DOE_BUSINESS_SERVICE:\n        switch (action) {\n          case envVariables.EGOV_PENSION_WORKFLOW_ACTION_FORWARD:\n            {\n              emailRequest[\n                \"subject\"]=\"Notification for Death Benefit for employee\";\n                emailRequest[\n                \"body\"\n              ] = \n              `<table style=\"width: 605px;\">\n              <tbody>\n              <tr>\n              <td style=\"width: 595px;\">Subject Line: Notification for Death Benefit for employee<br /> <br /> Dear Beneficiary of ${applicantName}, <br /> <br /> Death benefit applicaton of &lt;employee name&gt; has been initiated. Application Number ${applicationNumber} is for your future reference.<br /> <br /> Note: This is a system generated email. Please do not reply.<br /> <br /> Regards,<br /> Chandigarh Smart City Private Limited</td>\n              </tr>\n              </tbody>\n              </table>`;\n            }\n              break;                \n        }\n        break;\n    case envVariables.EGOV_PENSION_DOP_BUSINESS_SERVICE:\n        switch (action) {\n          case envVariables.EGOV_PENSION_WORKFLOW_ACTION_FORWARD:\n            {\n              emailRequest[\n                \"subject\"]=\"Notification for Death Benefit for pensioner\";\n                emailRequest[\n                \"body\"\n              ] = \n              `<table style=\"width: 606px;\">\n              <tbody>\n              <tr>\n              <td style=\"width: 596px;\">Subject Line: Notification for Death Benefit for pensioner<br /> <br /> Dear Beneficiary of ${applicantName}, <br /> <br /> Death benefit applicaton of ${applicantName} has been initiated. Application Number ${applicationNumber} is for your future reference.<br /> <br /> Note: This is a system generated email. Please do not reply.<br /> <br /> Regards,<br /> Chandigarh Smart City Private Limited</td>\n              </tr>\n              </tbody>\n              </table>\n              <p>&nbsp;</p>`;\n            }\n              break;                \n        }\n        break;\n  }\n\n  emailRequest[\n    \"isHTML\"]=true;\n  logger.debug(\"emailRequest\",JSON.stringify(emailRequest));\n  \n  payload = {\n    topic,\n    messages: JSON.stringify(emailRequest)\n  };\n  return payload;\n};\n\nexport default workflowTemplateInterfaceEMAIL;\n"]}